import json

# last ordbok
try:
    with open("words.json", "r", encoding="utf-8") as f:
        words = json.load(f)
except:
    words = []

# last ordlister
with open("wordlists.json", "r", encoding="utf-8") as f:
    wl = json.load(f)

def b1_examples(word):
    return [
        f"Jeg bruker ordet {word} i hverdagen.",
        f"{word.capitalize()} er viktig når jeg snakker norsk.",
        f"Jeg prøver å forstå hva {word} betyr.",
        f"Dette er et vanlig ord på jobb.",
        f"Jeg hører ofte ordet {word}."
    ]

def b2_examples(word):
    return [
        f"God forståelse av {word} er viktig i profesjonell kommunikasjon.",
        f"Ordet {word} brukes ofte i formelle og skriftlige sammenhenger.",
        f"{word.capitalize()} kan forklare hvordan mennesker samhandler.",
        f"På arbeidsplassen forventes det at man behersker begrepet {word}.",
        f"Bruken av {word} viser et høyere språklig nivå."
    ]

# 5 B1
for _ in range(5):
    w = wl["b1_words"][wl["b1_index"] % len(wl["b1_words"])]
    wl["b1_index"] += 1
    words.append({
        "no": w["no"],
        "lt": w["lt"],
        "examples": b1_examples(w["no"])
    })

# 5 B2
for _ in range(5):
    w = wl["b2_words"][wl["b2_index"] % len(wl["b2_words"])]
    wl["b2_index"] += 1
    words.append({
        "no": w["no"],
        "lt": w["lt"],
        "examples": b2_examples(w["no"])
    })

# lagre
with open("words.json", "w", encoding="utf-8") as f:
    json.dump(words, f, ensure_ascii=False, indent=2)

with open("wordlists.json", "w", encoding="utf-8") as f:
    json.dump(wl, f, ensure_ascii=False, indent=2)
